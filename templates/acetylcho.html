<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Computational Drug Discovery Webapp</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="/static/favicon.png">
    
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/themify-icons.css">
    <link rel="stylesheet" href="/static/css/acetylcho.css">
</head>

<body>
    <header>
        <div class="header-area ">
            <div class="header-top_area d-none d-lg-block">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-md-5 ">
                            <div class="header_left">
                                <p>CADD Webapp by Curtis W.</p>
                            </div>
                        </div>
                        <div class="col-xl-7 col-md-7">
                            <div class="header_right d-flex">
                                    <div class="short_contact_list">
                                            <ul>
                                                <li><a href="#"> <i class="fa fa-envelope"></i> eedeverdeen@gmail.com</a></li>
                                            </ul>
                                        </div>
                                        <div class="social_media_links">
                                            <a href="https://github.com/arimelf">
                                                <i class="fa fa-github"></i>
                                            </a>
                                            <a href="https://www.linkedin.com/in/curtiswu128">
                                                <i class="fa fa-linkedin"></i>
                                            </a>
                                        </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div id="sticky-header" class="main-header-area details_nav">
                <div class="container">
                    <div class="header_bottom_border">
                        <div class="row align-items-center">
                            <div class="col-xl-6 col-lg-7">
                                <div class="main-menu  d-none d-lg-block">
                                    <nav>
                                        <ul id="navigation">
                                            <li><a href="/">Home</a></li>
                                            <li><a class="active" href="/compounds/">Target Compounds <i class="ti-angle-down"></i></a>
                                                <ul class="submenu">
                                                        <li><a href="/acetylcholinesterase/">Acetylcholinesterase</a></li>
                                                        <li><a href="/bace1/">Beta-Secretase 1</a></li>
                                                        <li><a href="/vegfr2/">VEGF Receptor 2</a></li>
                                                        <li><a href="/hiv1rt/">HIV-1 RT</a></li>

                                                </ul>
                                            </li>
                                            <li><a href="/method/">Method</a></li>
                                            <li><a href="/references/">References</a></li>
                                            <li><a href="/about/">About</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </header>
    <!-- header-end -->

    <div class="case_details_area">
        <div class="container">
            <div class="border_bottom">
                    <div class="row">
                            <div class="col-xl-12">
                                <div class="details_title">
                                    <span>Alzheimer's Disease</span>
                                    <h3>Acetylcholinesterase</h3>
                                </div>
                            </div>
                            <div class="col-xl-9">
                                <div class="details_main_wrap">
                                    <p class="details_info">
                                        Acetylcholinesterase is an enzyme that terminates the actions of the neurotransmitter acetylcholine and possesses three binding sites where inhibiting compounds can interact. When drug compounds bind to acetylcholinesterase, they can interfere with the breakdown of acetylcholine, disrupting neurotransmission. Acetylcholinesterase is a target protein for many diseases, including Alzheimer's disease.
                                        <br>
                                        <br>
                                        Upload a .txt file containing the CHEMBL IDs of the potential drug molecules below. The compounds in the file should be separated by spaces.
                                        <br>
                                        <br>
                                        Example:" CHEMBL35346 CHEMBL89010 CHEMBL37890". Invalid IDs will be ignored.
                                    </p>
                                </div>
                            </div>
                            <div class = "upload-block">
                                <form method="POST" action="/upload/" enctype="multipart/form-data" id = "uploadForm">
                                    <input type="file" name="file" id = "fileInput" onchange="handleFileUpload()">
                                    <button type="button" onclick="handleSubmit()">Submit</button>
                                </form>
                                    <div class = "message-block">
                                        <div id = "success_message" style="color:green"></div>
                                        <div id = "failed_message" style="color:red"></div>
                                        <br>
                                    </div>
                            </div>
                        </div>
            </div>
        </div>
    </div>


    <div class="case_study_area case_page">
        <div class="container">
                <div class="row">
                        <div class="col-xl-12">
                            <div class="section_title mb-40">
                                <h3>Related Target Compounds</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xl-4 col-md-6 col-lg-4">
                            <div class="single_case">
                                <div class="case_thumb">
                                        <img src="/static/acetylcho.png" alt="">
                                    </div>
                            <div class="case_heading">
                                <span>Alzheimer's Disease</span>
                                <h3><a href="/acetylcholinesterase/">Acetylcholinesterase</a></h3>
                            </div>
                        </div>
                        </div>
                        <div class="col-xl-4 col-md-6 col-lg-4">
                            <div class="single_case">
                                <div class="case_thumb">
                                        <img src="/static/bace1.png" alt="">
                                    </div>
                            <div class="case_heading">
                                <span>Alzheimer's Disease</span>
                                    <h3><a href="/bace1/">Beta-Secretase 1</a></h3>
                            </div>
                        </div>
                        </div>
                        <div class="col-xl-4 col-md-6 col-lg-4">
                            <div class="single_case">
                                <div class="case_thumb">
                                        <img src="/static/vegfr-2.png" alt="">
                                    </div>
                            <div class="case_heading">
                                <span>Cancer</span>
                                    <h3><a href="/vegfr2/">VEGF Receptor-2</a></h3>
                            </div>
                        </div>
                        </div>
                    </div>
        </div>
    </div>
    <!-- /case_study_area  -->


    <script src="/static/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="/static/js/jquery.slicknav.min.js"></script>
    <script src="/static/js/main.js"></script>
    <script>
        function handleFileUpload() {
            //var fileInput = document.getElementById("fileInput");
            var s_message = document.getElementById("success_message");
            var f_message = document.getElementById("failed_message");
            s_message.innerText = ""; // Clear the message when a new file is selected
            f_message.innerText = "";
          }
    
        function handleSubmit() {
            var fileInput = document.getElementById("fileInput");
            var s_message = document.getElementById("success_message");
            var f_message = document.getElementById("failed_message");
            if (fileInput.files.length === 0) {
                f_message.innerText = "Please select a file before submitting.";
                return;
            }
    
            var filename = fileInput.files[0].name;
            if (filename.length >= 4 && filename.substr(filename.length - 4)==='.txt') {
                s_message.innerText = "File successfully uploaded! Computing, Please wait...";
                f_message.innerText = "";
                var data = document.getElementById('fileInput').files[0];
                var fr = new FileReader();
                fr.onload = function(e) {
                    var fileContent = e.target.result;
                    console.log(fileContent);
                    sendFileContent(filename,fileContent);
                };
                fr.readAsText(data);

            }
            else{
                s_message.innerText = "";
                f_message.innerText = "Please upload a non-empty .txt file!";
                return;
            }
        }
    
        function sendFileContent(filename, fileContent) {
            var payload = {
                filename: filename,
                fileContent: fileContent,
                compound_name: "acetylcholinesterase"
            };
        
            fetch('/upload/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .then(function(response) {
                if (response.ok) {
                    window.location.href = '/results/';
                } else {
                    throw new Error('Error: ' + response.status);
                }
            })
            .catch(function(error) {
                console.log('Error:', error.message);
            });
        }
    
      </script>

</body>

</html>